{"version":3,"sources":["js/actions/actionTypes.tsx","js/misc/constants.tsx","js/misc/utils.tsx","js/misc/helpers.tsx","js/misc/levels.tsx","js/reducers/index.tsx","js/components/Tile.tsx","js/components/Board.tsx","js/components/Header.tsx","js/components/StarsPoints.tsx","js/components/Overlay.tsx","js/components/InfoOverlay.tsx","js/components/HintsOverlay.tsx","js/components/MenuBar.tsx","js/components/LevelsDisplay.tsx","js/components/MenuOverlay.tsx","js/components/Game.tsx","js/actions/index.tsx","App.js","serviceWorker.js","index.js"],"names":["UPDATE_CELLS","SET_ACTIVE_TYPE","RESTART_CSS_CLASSES","RESTART_LEVEL","RESTART_GAME","SET_NEXT_LEVEL","SET_LEVEL","TOGGLE_MENU_OVERLAY","TOGGLE_HINTS","SHOW_HINTS_OVERLAY","HIDE_HINTS_OVERLAY","BOARD_WIDTH","BOARD_HEIGHT","WALL_TYPE","TILE_TYPES","1","2","3","4","100","transformFromStateToGrid","cells","tile","grid","tilesNo","length","x","row","y","push","positionX","positionY","transformFromGridToState","getMaxScores","localStorage","window","emptyBestScores","Array","fill","bestScores","getObject","getStarScores","emptyStarScores","starScores","getHintsVisibility","hintsVisibility","setLastLevelPlayed","level","setObject","resetCssClasses","state","cellsInGrid","levelData","finishCords","forEach","finishCoordinates","actionClass","updateScore","mergedCounter","singleScore","factorial","n","score","scoreClass","maxScores","isNewBestScore","Storage","prototype","key","obj","this","setItem","JSON","stringify","parse","getItem","LEVELS","type","isFinishTile","hint","stars","maxMoves","minMoves","maxPoints","lastLevelPlayed","initialLevel","getLastLevelPlayed","initializeState","initializeLevel","levelsAmount","isMenuVisible","isHintsVisible","isHintsOverlayVisible","initializeCells","setFinishCords","activeType","nonStandardTilesAmount","countTiles","setHint","moves","isLevelFinished","isGameFinished","newTile","currentLevel","uniqueKey","tileFoundInNextCell","coordinate","reduce","accumulator","currentValue","moveTiles","move","cell","newPosition","availableCells","filter","toBeMergedWithFinish","cellsAmount","alreadyMovedTile","traversals","pos","reverse","buildTraversals","moveVector","getMoveVector","prevCell","cellX","cellY","tileInCell","nextTile","withinBounds","findAvailablePosition","prevPosition","isCellMovable","moveCell","starScore","calculateStarScore","setMaxScores","setStarScores","setActiveType","toogleHintsAvailable","newState","rootReducer","action","payload","Tile","tileClassName","onMouseClick","useState","newTileClassName","setData","useEffect","requestAnimationFrame","className","onClick","Block","React","Component","Grid","i","j","blocks","connect","activeFinishCords","boardClassName","classNames","tiles","typeClass","positionClass","positionClassFinish","isTileActive","isTileFinish","toString","logoClass","singleScoreClassName","singleScoreValue","bestScore","levelToShow","StarsPoints","customCssClass","Overlay","overlayClass","overlayWrapperClass","title","text","buttons","onLevelRestart","onShowMenu","onNextLevel","infoOverlayClass","visible","infoOverlayWrapperClass","best","onClose","hintsOverlayClass","hintsOverlayWrapperClass","MenuBar","Level","onSetLevel","levels","onCloseMenu","onGameRestart","onToggleHints","menuOverlayClass","href","target","rel","IDLE_TIMER","isKeyPressed","Game","handleMove","eventKey","handleCellsUpdate","setTimeout","KeyPressMap","ArrowUp","ArrowRight","ArrowDown","ArrowLeft","w","d","s","a","SwipeUp","SwipeRight","SwipeDown","SwipeLeft","props","updateCells","handleMouseClick","handleRestartLevel","restartLevel","handleRestartGame","restartGame","handleToggleMenu","toggleMenuOverlay","handleSetNextLevel","setNextLevel","handleSetLevel","levelNo","setLevel","handleHideHintsOverlay","hideHintsOverlay","handleToggleHints","toggleHints","onSwipeUp","onSwipeDown","onSwipeLeft","onSwipeRight","onSwipeMove","position","event","document","addEventListener","innerRef","tolerance","bind","dispatch","keyPressedNo","restartCssClasses","store","createStore","reducers","App","isLocalhost","Boolean","location","hostname","match","registerValidSW","swUrl","config","navigator","serviceWorker","register","then","registration","onupdatefound","installingWorker","installing","onstatechange","controller","console","log","onUpdate","onSuccess","catch","error","ReactDOM","render","getElementById","URL","process","origin","fetch","headers","response","contentType","get","status","indexOf","ready","unregister","reload","checkValidServiceWorker"],"mappings":"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c,GAEf,CACChD,UAAW,EACXC,UAAW,EACX8C,KAAM,EACNC,cAAc,IAIhB,CACC,CACChD,UAAW,EACXC,UAAW,EACX8C,KAAM,EACNC,cAAc,EACdC,KAAK,+BACLC,MAAO,CACNC,SAAU,EACVC,SAAU,EACVC,UAAW,IAGb,CACCrD,UAAW,EACXC,UAAW,EACX8C,KAAM,EACNC,cAAc,GAEf,CACChD,UAAW,EACXC,UAAW,EACX8C,KAAM,EACNC,cAAc,GAEf,CACChD,UAAW,EACXC,UAAW,EACX8C,KAAM,EACNC,cAAc,GAEf,CACChD,UAAW,EACXC,UAAW,EACX8C,KAAMhE,EACNiE,cAAc,IA+ChB,CACC,CACChD,UAAW,EACXC,UAAW,EACX8C,KAAM,EACNC,cAAc,EACdE,MAAO,CACNC,SAAU,EACVC,SAAU,EACVC,UAAW,KAGb,CACCrD,UAAW,EACXC,UAAW,EACX8C,KAAM,EACNC,cAAc,GAEf,CACChD,UAAW,EACXC,UAAW,EACX8C,KAAM,EACNC,cAAc,GAEf,CACChD,UAAW,EACXC,UAAW,EACX8C,KAAM,EACNC,cAAc,GAEf,CACChD,UAAW,EACXC,UAAW,EACX8C,KAAM,EACNC,cAAc,GAEf,CACChD,UAAW,EACXC,UAAW,EACX8C,KAAM,EACNC,cAAc,GAEf,CACChD,UAAW,EACXC,UAAW,EACX8C,KAAMhE,EACNiE,cAAc,GAEf,CACChD,UAAW,EACXC,UAAW,EACX8C,KAAMhE,EACNiE,cAAc,GAEf,CACChD,UAAW,EACXC,UAAW,EACX8C,KAAMhE,EACNiE,cAAc,GAEf,CACChD,UAAW,EACXC,UAAW,EACX8C,KAAMhE,EACNiE,cAAc,GAEf,CACChD,UAAW,EACXC,UAAW,EACX8C,KAAMhE,EACNiE,cAAc,IAIhB,CACC,CACChD,UAAW,EACXC,UAAW,EACX8C,KAAM,EACNC,cAAc,EACdE,MAAO,CACNC,SAAU,EACVC,SAAU,GACVC,UAAW,KAGb,CACCrD,UAAW,EACXC,UAAW,EACX8C,KAAM,EACNC,cAAc,GAEf,CACChD,UAAW,EACXC,UAAW,EACX8C,KAAM,EACNC,cAAc,GAEf,CACChD,UAAW,EACXC,UAAW,EACX8C,KAAM,EACNC,cAAc,GAEf,CACChD,UAAW,EACXC,UAAW,EACX8C,KAAM,EACNC,cAAc,GAEf,CACChD,UAAW,EACXC,UAAW,EACX8C,KAAM,EACNC,cAAc,GAEf,CACChD,UAAW,EACXC,UAAW,EACX8C,KAAM,EACNC,cAAc,IAIhB,CACC,CACChD,UAAW,EACXC,UAAW,EACX8C,KAAM,EACNC,cAAc,EACdE,MAAO,CACNC,SAAU,GACVC,SAAU,GACVC,UAAW,IAGb,CACCrD,UAAW,EACXC,UAAW,EACX8C,KAAM,EACNC,cAAc,GAEf,CACChD,UAAW,EACXC,UAAW,EACX8C,KAAM,EACNC,cAAc,GAEf,CACChD,UAAW,EACXC,UAAW,EACX8C,KAAM,EACNC,cAAc,GAEf,CACChD,UAAW,EACXC,UAAW,EACX8C,KAAM,EACNC,cAAc,GAEf,CACChD,UAAW,EACXC,UAAW,EACX8C,KAAM,EACNC,cAAc,GAEf,CACChD,UAAW,EACXC,UAAW,EACX8C,KAAMhE,EACNiE,cAAc,GAEf,CACChD,UAAW,EACXC,UAAW,EACX8C,KAAMhE,EACNiE,cAAc,IAIhB,CACC,CACChD,UAAW,EACXC,UAAW,EACX8C,KAAM,EACNC,cAAc,EACdE,MAAO,CACNC,SAAU,GACVC,SAAU,GACVC,UAAW,MAGb,CACCrD,UAAW,EACXC,UAAW,EACX8C,KAAM,EACNC,cAAc,GAEf,CACChD,UAAW,EACXC,UAAW,EACX8C,KAAM,EACNC,cAAc,GAEf,CACChD,UAAW,EACXC,UAAW,EACX8C,KAAM,EACNC,cAAc,GAEf,CACChD,UAAW,EACXC,UAAW,EACX8C,KAAM,EACNC,cAAc,GAEf,CACChD,UAAW,EACXC,UAAW,EACX8C,KAAM,EACNC,cAAc,GAEf,CACChD,UAAW,EACXC,UAAW,EACX8C,KAAM,EACNC,cAAc,GAEf,CACChD,UAAW,EACXC,UAAW,EACX8C,KAAM,EACNC,cAAc,GAEf,CACChD,UAAW,EACXC,UAAW,EACX8C,KAAM,EACNC,cAAc,GAEf,CACChD,UAAW,EAC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","file":"static/js/main.74244fc6.chunk.js","sourcesContent":["export const UPDATE_CELLS = \"UPDATE_CELLS\";\nexport const SET_ACTIVE_TYPE = \"SET_ACTIVE_TYPE\";\nexport const RESTART_CSS_CLASSES = \"RESTART_CSS_CLASSES\";\nexport const RESTART_LEVEL = \"RESTART_LEVEL\";\nexport const RESTART_GAME = \"RESTART_GAME\";\nexport const SET_NEXT_LEVEL = \"SET_NEXT_LEVEL\";\nexport const SET_LEVEL = \"SET_LEVEL\";\nexport const TOGGLE_MENU_OVERLAY = \"TOGGLE_MENU_OVERLAY\";\nexport const TOGGLE_HINTS = \"TOGGLE_HINTS\";\nexport const SHOW_HINTS_OVERLAY = \"SHOW_HINTS_OVERLAY\";\nexport const HIDE_HINTS_OVERLAY = \"HIDE_HINTS_OVERLAY\";\n","export const BOARD_WIDTH = 7;\nexport const BOARD_HEIGHT = 7;\nexport const WALL_TYPE = 100;\nexport const TILE_TYPES = {\n\t1: \"primary\",\n\t2: \"secondary\",\n\t3: \"tertiary\",\n\t4: \"quaternary\",\n\t100: \"wall\",\n};\n","import { BOARD_WIDTH, BOARD_HEIGHT } from \"../misc/constants\";\nimport { Cell, CellState } from \"../misc/tsTypes\";\n\n/*\n  This method transforms the 1dim array of visible tiles into 2dim array of both visible and empty\n  tiles to easier calculate the collision and movement of the grid elements\n*/\nexport function transformFromStateToGrid(cells: Cell[]): Cell[][] {\n\tlet grid = [],\n\t\ttile,\n\t\ttilesNo = cells.length;\n\n\tfor (let x = 0; x < BOARD_WIDTH; x++) {\n\t\tlet row = (grid[x] = []);\n\n\t\tfor (let y = 0; y < BOARD_HEIGHT; y++) {\n\t\t\trow.push(null);\n\t\t}\n\t}\n\n\tfor (let x = 0; x < tilesNo; x++) {\n\t\ttile = cells[x];\n\t\tgrid[tile.positionX][tile.positionY] = tile;\n\t}\n\n\treturn grid;\n}\n\n/*\n  This method transforms the 2dim array of of both visible and empty\n  tiles into 1dim array of only visible tiles to store it as a state and properly show the movement in DOM\n*/\nexport function transformFromGridToState(grid: Cell[][]): Cell[] {\n\tlet cells = [];\n\n\tfor (let x = 0; x < BOARD_WIDTH; x++) {\n\t\tfor (let y = 0; y < BOARD_HEIGHT; y++) {\n\t\t\tif (grid[x][y]) {\n\t\t\t\tcells.push(grid[x][y]);\n\t\t\t}\n\t\t}\n\t}\n\n\treturn cells;\n}\n\nexport function factorial(n) {\n\tif (n === 0) {\n\t\treturn 1;\n\t} else {\n\t\treturn n * factorial(n - 1);\n\t}\n}\n\nStorage.prototype.setObject = function(key, obj) {\n    return this.setItem(key, JSON.stringify(obj))\n}\n\nStorage.prototype.getObject = function(key) {\n    return JSON.parse(this.getItem(key))\n}\n\nexport function setMaxScores(state: CellState): void {\n\tconst localStorage = window.localStorage;\n\n\tlocalStorage.setObject('swipers_game--best_scores', state.maxScores);\n}\n\nexport function getMaxScores(): Array<number> {\n\tconst localStorage = window.localStorage;\n\tlet emptyBestScores: Array<number> = new Array(9).fill(0);\n\n\tlet bestScores = localStorage.getObject('swipers_game--best_scores');\n\n\treturn (typeof bestScores === 'undefined' || bestScores === null || bestScores.length === 0) ? emptyBestScores : bestScores;\n}\n\nexport function setStarScores(state: CellState): void {\n\tconst localStorage = window.localStorage;\n\n\tlocalStorage.setObject('swipers_game--star_scores', state.starScores);\n}\n\nexport function getStarScores(): Array<number> {\n\tconst localStorage = window.localStorage;\n\tlet emptyStarScores: Array<number> = new Array(9).fill(0);\n\n\tlet starScores = localStorage.getObject('swipers_game--star_scores');\n\n\treturn (typeof starScores === 'undefined' || starScores === null || starScores.length === 0) ? emptyStarScores : starScores;\n}\n\nexport function setHintsVisibility(isHintsVisible: boolean): void {\n\tconst localStorage = window.localStorage;\n\n\tlocalStorage.setObject('swipers_game--hints-visibility', isHintsVisible);\n}\n\nexport function getHintsVisibility(): boolean {\n\tconst localStorage = window.localStorage;\n\tlet initialHintsVisibility: boolean = true;\n\n\tlet hintsVisibility = localStorage.getObject('swipers_game--hints-visibility');\n\n\treturn (typeof hintsVisibility === 'undefined' || hintsVisibility === null) ? initialHintsVisibility : hintsVisibility;\n}\n\nexport function getLastLevelPlayed(initialLevel: number): number {\n\tconst localStorage = window.localStorage;\n\n\tlet lastLevelPlayed = localStorage.getObject('swipers_game--last_level_played');\n\n\treturn (typeof lastLevelPlayed === 'undefined' || lastLevelPlayed === null) ? initialLevel : lastLevelPlayed;\n}\n\nexport function setLastLevelPlayed(level: number): void {\n\tconst localStorage = window.localStorage;\n\n\tlocalStorage.setObject('swipers_game--last_level_played', level);\n}","import {\n\ttransformFromStateToGrid,\n\ttransformFromGridToState,\n\tfactorial,\n} from \"../misc/utils\";\n\nimport { Cell, CellState } from \"../misc/tsTypes\";\n\nexport function resetCssClasses(state: CellState): Cell[] {\n\tlet cellsInGrid = transformFromStateToGrid(state.levelData.cells);\n\t//remove 'merged' css class from the finish tiles\n\tstate.levelData.finishCords.forEach((finishCoordinates) => {\n\t\tcellsInGrid[finishCoordinates.positionX][\n\t\t\tfinishCoordinates.positionY\n\t\t].actionClass = \"\";\n\t});\n\n\treturn transformFromGridToState(cellsInGrid);\n}\n\nexport function updateScore(state: CellState, mergedCounter: number): void {\n\tconst singleScore = factorial(mergedCounter) * mergedCounter * 10;\n\n\tstate.levelData.singleScore = singleScore;\n\tstate.levelData.score += singleScore;\n\tstate.levelData.scoreClass = \"score-up\";\n\n\tif (state.levelData.score > state.maxScores[state.levelData.level]) {\n\t\tstate.maxScores[state.levelData.level] = state.levelData.score;\n\t\tstate.levelData.isNewBestScore = true;\n\t}\n}\n\nexport function calculateStarScore(state: CellState): number {\n\tlet starScore = 1; //if you manage to finish the level, get at least one star\n\n\tif (\n\t\tstate.levelData.moves === state.levelData.stars.maxMoves &&\n\t\t(!state.levelData.stars.maxPoints ||\n\t\t\tstate.levelData.score === state.levelData.stars.maxPoints)\n\t) {\n\t\tstarScore = 3;\n\t} else if (\n\t\t(state.levelData.moves === state.levelData.stars.maxMoves &&\n\t\t\tstate.levelData.stars.maxPoints &&\n\t\t\tstate.levelData.score !== state.levelData.stars.maxPoints) ||\n\t\tstate.levelData.moves <= state.levelData.stars.minMoves\n\t) {\n\t\tstarScore = 2;\n\t}\n\n\treturn starScore;\n}\n","import { WALL_TYPE } from \"../misc/constants\";\nimport { tileInLevel } from \"../misc/tsTypes\";\nexport const LEVELS: tileInLevel[][] = [\n\t//level 1\n\t[\n\t\t{\n\t\t\tpositionX: 6,\n\t\t\tpositionY: 0,\n\t\t\ttype: 1,\n\t\t\tisFinishTile: true,\n\t\t\thint: `Swipe orthogonally to move \n\t\t\t\t\tthe blue rounded tile \n\t\t\t\t\tto the square finish one.`,\n\t\t\tstars: {\n\t\t\t\tmaxMoves: 2, //how many moves are needed to get maximum 3 stars\n\t\t\t\tminMoves: 3, //how many moves are needed to get 2 stars\n\t\t\t\tmaxPoints: 0, //how many points are needed to get maximum 3 stars, if 0 - it doesn't matter, only moves count\n\t\t\t},\n\t\t},\n\t\t{\n\t\t\tpositionX: 3,\n\t\t\tpositionY: 5,\n\t\t\ttype: 1,\n\t\t\tisFinishTile: false,\n\t\t},\n\t],\n\t//level 2\n\t[\n\t\t{\n\t\t\tpositionX: 0,\n\t\t\tpositionY: 6,\n\t\t\ttype: 1,\n\t\t\tisFinishTile: true,\n\t\t\thint: `You will get more points\n\t\t\t\tif all of the blue tiles\n\t\t\t\treach finish tile in the same move.`,\n\t\t\tstars: {\n\t\t\t\tmaxMoves: 2,\n\t\t\t\tminMoves: 4,\n\t\t\t\tmaxPoints: 40,\n\t\t\t},\n\t\t},\n\t\t{\n\t\t\tpositionX: 3,\n\t\t\tpositionY: 3,\n\t\t\ttype: 1,\n\t\t\tisFinishTile: false,\n\t\t},\n\t\t{\n\t\t\tpositionX: 0,\n\t\t\tpositionY: 0,\n\t\t\ttype: 1,\n\t\t\tisFinishTile: false,\n\t\t},\n\t],\n\t//level 3\n\t[\n\t\t{\n\t\t\tpositionX: 0,\n\t\t\tpositionY: 6,\n\t\t\ttype: 1,\n\t\t\tisFinishTile: true,\n\t\t\thint: `Select a different tile to \n\t\t\t\tchange active color.`,\n\t\t\tstars: {\n\t\t\t\tmaxMoves: 4,\n\t\t\t\tminMoves: 6,\n\t\t\t\tmaxPoints: 0,\n\t\t\t},\n\t\t},\n\t\t{\n\t\t\tpositionX: 4,\n\t\t\tpositionY: 0,\n\t\t\ttype: 1,\n\t\t\tisFinishTile: false,\n\t\t},\n\t\t{\n\t\t\tpositionX: 6,\n\t\t\tpositionY: 6,\n\t\t\ttype: 2,\n\t\t\tisFinishTile: true,\n\t\t},\n\t\t{\n\t\t\tpositionX: 2,\n\t\t\tpositionY: 0,\n\t\t\ttype: 2,\n\t\t\tisFinishTile: false,\n\t\t},\n\t],\n\t//level 4\n\t[\n\t\t{\n\t\t\tpositionX: 0,\n\t\t\tpositionY: 6,\n\t\t\ttype: 1,\n\t\t\tisFinishTile: true,\n\t\t\thint: `Use inactive tiles as walls.`,\n\t\t\tstars: {\n\t\t\t\tmaxMoves: 6,\n\t\t\t\tminMoves: 8,\n\t\t\t\tmaxPoints: 0,\n\t\t\t},\n\t\t},\n\t\t{\n\t\t\tpositionX: 2,\n\t\t\tpositionY: 0,\n\t\t\ttype: 1,\n\t\t\tisFinishTile: false,\n\t\t},\n\t\t{\n\t\t\tpositionX: 4,\n\t\t\tpositionY: 4,\n\t\t\ttype: 2,\n\t\t\tisFinishTile: true,\n\t\t},\n\t\t{\n\t\t\tpositionX: 3,\n\t\t\tpositionY: 0,\n\t\t\ttype: 2,\n\t\t\tisFinishTile: false,\n\t\t},\n\t\t{\n\t\t\tpositionX: 6,\n\t\t\tpositionY: 6,\n\t\t\ttype: WALL_TYPE,\n\t\t\tisFinishTile: false,\n\t\t},\n\t],\n\t//old level 4\n\t// [\n\t// \t{\n\t// \t\tpositionX: 3,\n\t// \t\tpositionY: 4,\n\t// \t\ttype: 1,\n\t// \t\tisFinishTile: true,\n\t// \t\tstars: {\n\t// \t\t\tmaxMoves: 18,\n\t// \t\t\tminMoves: 20,\n\t// \t\t}\n\t// \t},\n\t// \t{\n\t// \t\tpositionX: 0,\n\t// \t\tpositionY: 0,\n\t// \t\ttype: 1,\n\t// \t\tisFinishTile: false,\n\t// \t},\n\t// \t{\n\t// \t\tpositionX: 2,\n\t// \t\tpositionY: 2,\n\t// \t\ttype: 2,\n\t// \t\tisFinishTile: true,\n\t// \t},\n\t// \t{\n\t// \t\tpositionX: 1,\n\t// \t\tpositionY: 0,\n\t// \t\ttype: 2,\n\t// \t\tisFinishTile: false,\n\t// \t},\n\t// \t{\n\t// \t\tpositionX: 4,\n\t// \t\tpositionY: 5,\n\t// \t\ttype: WALL_TYPE,\n\t// \t\tisFinishTile: false,\n\t// \t},\n\t// \t{\n\t// \t\tpositionX: 3,\n\t// \t\tpositionY: 3,\n\t// \t\ttype: WALL_TYPE,\n\t// \t\tisFinishTile: false,\n\t// \t},\n\t// ],\n\t//level 5\n\t[\n\t\t{\n\t\t\tpositionX: 1,\n\t\t\tpositionY: 1,\n\t\t\ttype: 1,\n\t\t\tisFinishTile: true,\n\t\t\tstars: {\n\t\t\t\tmaxMoves: 7,\n\t\t\t\tminMoves: 9,\n\t\t\t\tmaxPoints: 80,\n\t\t\t},\n\t\t},\n\t\t{\n\t\t\tpositionX: 2,\n\t\t\tpositionY: 3,\n\t\t\ttype: 1,\n\t\t\tisFinishTile: false,\n\t\t},\n\t\t{\n\t\t\tpositionX: 3,\n\t\t\tpositionY: 4,\n\t\t\ttype: 1,\n\t\t\tisFinishTile: false,\n\t\t},\n\t\t{\n\t\t\tpositionX: 5,\n\t\t\tpositionY: 6,\n\t\t\ttype: 2,\n\t\t\tisFinishTile: true,\n\t\t},\n\t\t{\n\t\t\tpositionX: 4,\n\t\t\tpositionY: 4,\n\t\t\ttype: 2,\n\t\t\tisFinishTile: false,\n\t\t},\n\t\t{\n\t\t\tpositionX: 6,\n\t\t\tpositionY: 2,\n\t\t\ttype: 2,\n\t\t\tisFinishTile: false,\n\t\t},\n\t\t{\n\t\t\tpositionX: 1,\n\t\t\tpositionY: 2,\n\t\t\ttype: WALL_TYPE,\n\t\t\tisFinishTile: false,\n\t\t},\n\t\t{\n\t\t\tpositionX: 0,\n\t\t\tpositionY: 1,\n\t\t\ttype: WALL_TYPE,\n\t\t\tisFinishTile: false,\n\t\t},\n\t\t{\n\t\t\tpositionX: 1,\n\t\t\tpositionY: 0,\n\t\t\ttype: WALL_TYPE,\n\t\t\tisFinishTile: false,\n\t\t},\n\t\t{\n\t\t\tpositionX: 5,\n\t\t\tpositionY: 0,\n\t\t\ttype: WALL_TYPE,\n\t\t\tisFinishTile: false,\n\t\t},\n\t\t{\n\t\t\tpositionX: 6,\n\t\t\tpositionY: 1,\n\t\t\ttype: WALL_TYPE,\n\t\t\tisFinishTile: false,\n\t\t},\n\t],\n\t//level 6\n\t[\n\t\t{\n\t\t\tpositionX: 6,\n\t\t\tpositionY: 1,\n\t\t\ttype: 1,\n\t\t\tisFinishTile: true,\n\t\t\tstars: {\n\t\t\t\tmaxMoves: 8,\n\t\t\t\tminMoves: 10,\n\t\t\t\tmaxPoints: 60,\n\t\t\t},\n\t\t},\n\t\t{\n\t\t\tpositionX: 2,\n\t\t\tpositionY: 3,\n\t\t\ttype: 1,\n\t\t\tisFinishTile: false,\n\t\t},\n\t\t{\n\t\t\tpositionX: 3,\n\t\t\tpositionY: 4,\n\t\t\ttype: 1,\n\t\t\tisFinishTile: false,\n\t\t},\n\t\t{\n\t\t\tpositionX: 2,\n\t\t\tpositionY: 2,\n\t\t\ttype: 2,\n\t\t\tisFinishTile: true,\n\t\t},\n\t\t{\n\t\t\tpositionX: 1,\n\t\t\tpositionY: 0,\n\t\t\ttype: 2,\n\t\t\tisFinishTile: false,\n\t\t},\n\t\t{\n\t\t\tpositionX: 1,\n\t\t\tpositionY: 2,\n\t\t\ttype: 3,\n\t\t\tisFinishTile: false,\n\t\t},\n\t\t{\n\t\t\tpositionX: 4,\n\t\t\tpositionY: 6,\n\t\t\ttype: 3,\n\t\t\tisFinishTile: true,\n\t\t},\n\t],\n\t//level 7\n\t[\n\t\t{\n\t\t\tpositionX: 1,\n\t\t\tpositionY: 0,\n\t\t\ttype: 1,\n\t\t\tisFinishTile: true,\n\t\t\tstars: {\n\t\t\t\tmaxMoves: 10,\n\t\t\t\tminMoves: 11,\n\t\t\t\tmaxPoints: 0,\n\t\t\t},\n\t\t},\n\t\t{\n\t\t\tpositionX: 3,\n\t\t\tpositionY: 4,\n\t\t\ttype: 1,\n\t\t\tisFinishTile: false,\n\t\t},\n\t\t{\n\t\t\tpositionX: 3,\n\t\t\tpositionY: 0,\n\t\t\ttype: 2,\n\t\t\tisFinishTile: true,\n\t\t},\n\t\t{\n\t\t\tpositionX: 5,\n\t\t\tpositionY: 4,\n\t\t\ttype: 2,\n\t\t\tisFinishTile: false,\n\t\t},\n\t\t{\n\t\t\tpositionX: 5,\n\t\t\tpositionY: 0,\n\t\t\ttype: 3,\n\t\t\tisFinishTile: true,\n\t\t},\n\t\t{\n\t\t\tpositionX: 1,\n\t\t\tpositionY: 4,\n\t\t\ttype: 3,\n\t\t\tisFinishTile: false,\n\t\t},\n\t\t{\n\t\t\tpositionX: 0,\n\t\t\tpositionY: 1,\n\t\t\ttype: WALL_TYPE,\n\t\t\tisFinishTile: false,\n\t\t},\n\t\t{\n\t\t\tpositionX: 6,\n\t\t\tpositionY: 1,\n\t\t\ttype: WALL_TYPE,\n\t\t\tisFinishTile: false,\n\t\t},\n\t],\n\t//level 8\n\t[\n\t\t{\n\t\t\tpositionX: 6,\n\t\t\tpositionY: 0,\n\t\t\ttype: 1,\n\t\t\tisFinishTile: true,\n\t\t\tstars: {\n\t\t\t\tmaxMoves: 12,\n\t\t\t\tminMoves: 14,\n\t\t\t\tmaxPoints: 100,\n\t\t\t},\n\t\t},\n\t\t{\n\t\t\tpositionX: 2,\n\t\t\tpositionY: 1,\n\t\t\ttype: 1,\n\t\t\tisFinishTile: false,\n\t\t},\n\t\t{\n\t\t\tpositionX: 6,\n\t\t\tpositionY: 4,\n\t\t\ttype: 1,\n\t\t\tisFinishTile: false,\n\t\t},\n\t\t{\n\t\t\tpositionX: 0,\n\t\t\tpositionY: 6,\n\t\t\ttype: 2,\n\t\t\tisFinishTile: true,\n\t\t},\n\t\t{\n\t\t\tpositionX: 4,\n\t\t\tpositionY: 5,\n\t\t\ttype: 2,\n\t\t\tisFinishTile: false,\n\t\t},\n\t\t{\n\t\t\tpositionX: 0,\n\t\t\tpositionY: 2,\n\t\t\ttype: 2,\n\t\t\tisFinishTile: false,\n\t\t},\n\t\t{\n\t\t\tpositionX: 0,\n\t\t\tpositionY: 0,\n\t\t\ttype: 3,\n\t\t\tisFinishTile: true,\n\t\t},\n\t\t{\n\t\t\tpositionX: 4,\n\t\t\tpositionY: 1,\n\t\t\ttype: 3,\n\t\t\tisFinishTile: false,\n\t\t},\n\t\t{\n\t\t\tpositionX: 6,\n\t\t\tpositionY: 6,\n\t\t\ttype: 4,\n\t\t\tisFinishTile: true,\n\t\t},\n\t\t{\n\t\t\tpositionX: 2,\n\t\t\tpositionY: 5,\n\t\t\ttype: 4,\n\t\t\tisFinishTile: false,\n\t\t},\n\t],\n\t//level 9\n\t[\n\t\t{\n\t\t\tpositionX: 5,\n\t\t\tpositionY: 1,\n\t\t\ttype: 1,\n\t\t\tisFinishTile: true,\n\t\t\tstars: {\n\t\t\t\tmaxMoves: 16,\n\t\t\t\tminMoves: 18,\n\t\t\t\tmaxPoints: 0,\n\t\t\t},\n\t\t},\n\t\t{\n\t\t\tpositionX: 2,\n\t\t\tpositionY: 5,\n\t\t\ttype: 1,\n\t\t\tisFinishTile: false,\n\t\t},\n\t\t{\n\t\t\tpositionX: 1,\n\t\t\tpositionY: 5,\n\t\t\ttype: 2,\n\t\t\tisFinishTile: true,\n\t\t},\n\t\t{\n\t\t\tpositionX: 6,\n\t\t\tpositionY: 6,\n\t\t\ttype: 2,\n\t\t\tisFinishTile: false,\n\t\t},\n\t\t{\n\t\t\tpositionX: 2,\n\t\t\tpositionY: 1,\n\t\t\ttype: 3,\n\t\t\tisFinishTile: true,\n\t\t},\n\t\t{\n\t\t\tpositionX: 5,\n\t\t\tpositionY: 4,\n\t\t\ttype: 3,\n\t\t\tisFinishTile: false,\n\t\t},\n\t\t{\n\t\t\tpositionX: 4,\n\t\t\tpositionY: 3,\n\t\t\ttype: 4,\n\t\t\tisFinishTile: true,\n\t\t},\n\t\t{\n\t\t\tpositionX: 3,\n\t\t\tpositionY: 2,\n\t\t\ttype: 4,\n\t\t\tisFinishTile: false,\n\t\t},\n\t\t{\n\t\t\tpositionX: 6,\n\t\t\tpositionY: 0,\n\t\t\ttype: WALL_TYPE,\n\t\t\tisFinishTile: false,\n\t\t},\n\t],\n];\n","import {\n\tUPDATE_CELLS,\n\tSET_ACTIVE_TYPE,\n\tRESTART_CSS_CLASSES,\n\tRESTART_LEVEL,\n\tRESTART_GAME,\n\tSET_NEXT_LEVEL,\n\tSET_LEVEL,\n\tTOGGLE_MENU_OVERLAY,\n\tTOGGLE_HINTS,\n\tSHOW_HINTS_OVERLAY,\n\tHIDE_HINTS_OVERLAY,\n} from \"../actions/actionTypes\";\nimport { BOARD_WIDTH, BOARD_HEIGHT, WALL_TYPE } from \"../misc/constants\";\nimport {\n\ttransformFromStateToGrid,\n\ttransformFromGridToState,\n\tgetMaxScores,\n\tgetStarScores,\n\tgetLastLevelPlayed,\n\tgetHintsVisibility,\n\tsetMaxScores,\n\tsetStarScores,\n\tsetLastLevelPlayed,\n\tsetHintsVisibility,\n} from \"../misc/utils\";\nimport {\n\tresetCssClasses,\n\tupdateScore,\n\tcalculateStarScore,\n} from \"../misc/helpers\";\nimport {\n\tCell,\n\tCellState,\n\tLevelData,\n\tFinishCords,\n\tRootReducerAction,\n} from \"../misc/tsTypes\";\nimport { LEVELS } from \"../misc/levels\";\n\nconst INITIAL_LEVEL = 0;\nconst lastLevelPlayed = getLastLevelPlayed(INITIAL_LEVEL);\n\ninterface Vector {\n\tx: number;\n\ty: number;\n}\n\ninterface Traversals {\n\tx: number[];\n\ty: number[];\n}\n\nfunction initializeState(level: number = 0): CellState {\n\treturn {\n\t\tlevelData: initializeLevel(level),\n\t\tmaxScores: getMaxScores(), //an array with the best scores for every level\n\t\tstarScores: getStarScores(), //an array with the best star scores for every level\n\t\tlevelsAmount: LEVELS.length,\n\t\tisMenuVisible: true,\n\t\tisHintsVisible: getHintsVisibility(),\n\t\tisHintsOverlayVisible: false,\n\t};\n}\n\nfunction initializeLevel(level: number = 0): LevelData {\n\treturn {\n\t\tlevel: level,\n\t\tcells: initializeCells(level),\n\t\tfinishCords: setFinishCords(level),\n\t\tactiveType: 1,\n\t\tnonStandardTilesAmount: countTiles(level), //counter of nonstandard tiles, needed to calc if lvl is finished\n\t\thint: setHint(level),\n\t\tstars: LEVELS[level][0].stars, //an object that indicates how many moves are neeed to get 1, 2 or 3 stars\n\t\tscore: 0,\n\t\tsingleScore: 0,\n\t\tscoreClass: \"\",\n\t\tisNewBestScore: false,\n\t\tmoves: 0,\n\t\tisLevelFinished: false,\n\t\tisGameFinished: false,\n\t};\n}\n\n// Build a grid based on the current level\nfunction initializeCells(level: number = 0): Cell[] {\n\tlet cells = [],\n\t\tnewTile,\n\t\tcurrentLevel = LEVELS[level],\n\t\tuniqueKey = 0;\n\n\tcurrentLevel.forEach((tile) => {\n\t\tnewTile = {\n\t\t\t...tile,\n\t\t\tuniqueKey: uniqueKey,\n\t\t\ttileFoundInNextCell: false,\n\t\t\tactionClass: \"\",\n\t\t};\n\t\tuniqueKey++;\n\t\tcells.push(newTile);\n\t});\n\n\treturn cells;\n}\n\nfunction setFinishCords(level: number = 0): Array<FinishCords> {\n\tlet finishCords = [],\n\t\tcurrentLevel = LEVELS[level];\n\n\tcurrentLevel.forEach((tile) => {\n\t\tif (tile.isFinishTile) {\n\t\t\tlet coordinate = {\n\t\t\t\tpositionX: tile.positionX,\n\t\t\t\tpositionY: tile.positionY,\n\t\t\t};\n\t\t\tfinishCords.push(coordinate);\n\t\t}\n\t});\n\n\treturn finishCords;\n}\n\nfunction countTiles(level: number = 0): number {\n\tlet currentLevel = LEVELS[level];\n\n\tlet tilesAmount = currentLevel.reduce(function (accumulator, currentValue) {\n\t\tif (currentValue.isFinishTile || currentValue.type === WALL_TYPE) {\n\t\t\treturn accumulator + 1;\n\t\t} else {\n\t\t\treturn accumulator;\n\t\t}\n\t}, 0);\n\n\treturn tilesAmount;\n}\n\nfunction setHint(level: number = 0): string {\n\tlet hint = \"\",\n\t\tcurrentLevel = LEVELS[level];\n\n\tcurrentLevel.forEach((tile) => {\n\t\tif (tile.hint) {\n\t\t\thint = tile.hint;\n\t\t\treturn;\n\t\t}\n\t});\n\n\treturn hint;\n}\n\nfunction moveTiles(move: number, state: CellState): Cell[] {\n\tlet cell: Cell,\n\t\tnewPosition: Cell,\n\t\tavailableCells = removeMergedCells(state.levelData.cells),\n\t\tcellsInGrid = transformFromStateToGrid(availableCells),\n\t\tcellsAmount =\n\t\t\tavailableCells.length - state.levelData.nonStandardTilesAmount,\n\t\tmergedCounter: number = 0,\n\t\talreadyMovedTile: boolean = false,\n\t\tisCellMovable: boolean = false;\n\n\tconst traversals = buildTraversals(move),\n\t\tmoveVector = getMoveVector(move);\n\n\t//close hints overlay if still open\n\tif (state.isHintsOverlayVisible) {\n\t\tstate.isHintsOverlayVisible = false;\n\t}\n\n\tresetCssClasses(state);\n\n\t// Traverse the grid in the right direction and move tiles\n\ttraversals.x.forEach((x) => {\n\t\ttraversals.y.forEach((y) => {\n\t\t\tcell = cellsInGrid[x][y];\n\t\t\tif (\n\t\t\t\tcell &&\n\t\t\t\tcell.type === state.levelData.activeType &&\n\t\t\t\t!cell.isFinishTile\n\t\t\t) {\n\t\t\t\tnewPosition = findAvailablePosition(cell, cellsInGrid, moveVector);\n\t\t\t\tif (\n\t\t\t\t\tnewPosition.nextTile &&\n\t\t\t\t\t((newPosition.nextTile.isFinishTile &&\n\t\t\t\t\t\tnewPosition.nextTile.type === cell.type) ||\n\t\t\t\t\t\tnewPosition.nextTile.toBeMergedWithFinish)\n\t\t\t\t) {\n\t\t\t\t\t//add merge class to the finish tile\n\t\t\t\t\tif (\n\t\t\t\t\t\tnewPosition.nextTile.isFinishTile &&\n\t\t\t\t\t\tnewPosition.nextTile.type === cell.type\n\t\t\t\t\t) {\n\t\t\t\t\t\tnewPosition.nextTile.actionClass = \"merged\";\n\t\t\t\t\t}\n\n\t\t\t\t\t//animate the movement with fading\n\t\t\t\t\tif (newPosition.toBeMergedWithFinish) {\n\t\t\t\t\t\tnewPosition.actionClass = \"removed\";\n\t\t\t\t\t}\n\n\t\t\t\t\tmergedCounter++;\n\t\t\t\t\tcellsAmount--;\n\t\t\t\t}\n\t\t\t\tisCellMovable = moveCell(cellsInGrid, newPosition, cell);\n\n\t\t\t\tif (isCellMovable && !alreadyMovedTile) {\n\t\t\t\t\tstate.levelData.moves++;\n\t\t\t\t\talreadyMovedTile = true;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t});\n\n\tif (!mergedCounter) {\n\t\tstate.levelData.scoreClass = \"\";\n\t} else {\n\t\tupdateScore(state, mergedCounter);\n\t}\n\n\tif (cellsAmount === 0) {\n\t\tstate.levelData.isLevelFinished = true;\n\t\tstate.starScores[state.levelData.level] = calculateStarScore(state);\n\n\t\tsetMaxScores(state);\n\t\tsetStarScores(state);\n\n\t\tif (state.levelData.level === state.levelsAmount - 1) {\n\t\t\tstate.levelData.isGameFinished = true;\n\t\t}\n\t}\n\n\treturn transformFromGridToState(cellsInGrid);\n}\n\nfunction removeMergedCells(cells: Cell[]): Cell[] {\n\tlet filteredCells: Cell[];\n\n\tfilteredCells = cells.filter((cell) => !cell.toBeMergedWithFinish);\n\n\treturn filteredCells;\n}\n\nfunction moveCell(cells: Cell[][], newPosition: Cell, prevPosition: Cell) {\n\tlet isCellMovable: boolean = false;\n\n\tif (\n\t\tnewPosition.positionX !== prevPosition.positionX ||\n\t\tnewPosition.positionY !== prevPosition.positionY\n\t) {\n\t\tcells[newPosition.positionX][newPosition.positionY] = newPosition;\n\t\tcells[prevPosition.positionX][prevPosition.positionY] = null;\n\n\t\tisCellMovable = true;\n\t}\n\n\treturn isCellMovable;\n}\n\nfunction getMoveVector(move: number): Vector {\n\t// Vectors representing tile movement\n\tconst map = {\n\t\t1: { x: 0, y: -1 }, // Up\n\t\t2: { x: 1, y: 0 }, // Right\n\t\t3: { x: 0, y: 1 }, // Down\n\t\t4: { x: -1, y: 0 }, // Left\n\t};\n\n\treturn map[move];\n}\n\n// strongly inspired by https://github.com/gabrielecirulli/2048/blob/ac03b1f01628038039b74b67f2e284b233bd143e/js/game_manager.js#L207\nfunction buildTraversals(move: number): Traversals {\n\tlet traversals = {\n\t\tx: [],\n\t\ty: [],\n\t};\n\n\tfor (let pos = 0; pos < BOARD_WIDTH; pos++) {\n\t\ttraversals.x.push(pos);\n\t\ttraversals.y.push(pos);\n\t}\n\n\t// Always traverse from the farthest cell in the chosen direction\n\t// when moving right or down, reverse the natural order\n\tif (move === 2) traversals.x = traversals.x.reverse();\n\tif (move === 3) traversals.y = traversals.y.reverse();\n\n\treturn traversals;\n}\n\nfunction findAvailablePosition(\n\tcell: Cell,\n\tcells: Cell[][],\n\tmoveVector: Vector\n): Cell {\n\tlet prevCell, tileFoundInNextCell, cellX, cellY, toBeMergedWithFinish;\n\n\t// Progress towards the move direction until an obstacle is found\n\tdo {\n\t\tprevCell = cell;\n\t\tcellX = cell.positionX + moveVector.x;\n\t\tcellY = cell.positionY + moveVector.y;\n\t\ttileFoundInNextCell = tileInCell(cells, cellX, cellY);\n\t\ttoBeMergedWithFinish =\n\t\t\ttileFoundInNextCell &&\n\t\t\t((tileFoundInNextCell.isFinishTile &&\n\t\t\t\ttileFoundInNextCell.type === cell.type) ||\n\t\t\t\ttileFoundInNextCell.toBeMergedWithFinish);\n\t\tcell = {\n\t\t\tpositionX: cellX,\n\t\t\tpositionY: cellY,\n\t\t\ttype: cell.type,\n\t\t\tisFinishTile: cell.isFinishTile,\n\t\t\tuniqueKey: cell.uniqueKey,\n\t\t\tactionClass: \"\",\n\t\t\tnextTile: tileFoundInNextCell, //need nextTile to animate the position to equal finish\n\t\t\ttoBeMergedWithFinish: toBeMergedWithFinish,\n\t\t};\n\t} while (withinBounds(cell) && !tileFoundInNextCell);\n\n\t//even if not moving, I have to check if cell is going to be merged\n\tprevCell.nextTile = tileFoundInNextCell;\n\tprevCell.toBeMergedWithFinish = toBeMergedWithFinish;\n\treturn prevCell;\n}\n\nfunction withinBounds(cell: Cell): boolean {\n\treturn (\n\t\tcell.positionX >= 0 &&\n\t\tcell.positionX < BOARD_WIDTH &&\n\t\tcell.positionY >= 0 &&\n\t\tcell.positionY < BOARD_HEIGHT\n\t);\n}\n\n// returns content (tile) of a particular cell or null if tile not found\nfunction tileInCell(\n\tcells: Cell[][],\n\tcellX: number,\n\tcellY: number\n): Cell | null {\n\tif (cells[cellX] && cells[cellX][cellY]) {\n\t\treturn cells[cellX][cellY];\n\t} else {\n\t\treturn null;\n\t}\n}\n\nfunction setActiveType(cell: Cell, activeType: number): number {\n\treturn cell.type !== WALL_TYPE ? cell.type : activeType;\n}\n\nfunction toogleHintsAvailable(state: CellState): CellState {\n\tconst newState = {\n\t\t...state,\n\t\tisHintsVisible: !state.isHintsVisible,\n\t};\n\n\tsetHintsVisibility(!state.isHintsVisible);\n\n\treturn newState;\n}\n\nconst rootReducer = (\n\tstate = initializeState(lastLevelPlayed),\n\taction: RootReducerAction\n): CellState => {\n\tlet newState;\n\n\tswitch (action.type) {\n\t\tcase UPDATE_CELLS:\n\t\t\tnewState = {\n\t\t\t\t...state,\n\t\t\t\tlevelData: {\n\t\t\t\t\t...state.levelData,\n\t\t\t\t\tcells: moveTiles(action.payload, state),\n\t\t\t\t},\n\t\t\t};\n\t\t\treturn newState;\n\t\tcase SET_ACTIVE_TYPE:\n\t\t\tnewState = {\n\t\t\t\t...state,\n\t\t\t\tlevelData: {\n\t\t\t\t\t...state.levelData,\n\t\t\t\t\tactiveType: setActiveType(action.payload, state.levelData.activeType),\n\t\t\t\t},\n\t\t\t};\n\t\t\treturn newState;\n\t\tcase RESTART_CSS_CLASSES:\n\t\t\tnewState = {\n\t\t\t\t...state,\n\t\t\t\tlevelData: {\n\t\t\t\t\t...state.levelData,\n\t\t\t\t\tcells: resetCssClasses(state),\n\t\t\t\t\tscoreClass: \"\",\n\t\t\t\t},\n\t\t\t};\n\t\t\treturn newState;\n\t\tcase RESTART_LEVEL:\n\t\t\tnewState = {\n\t\t\t\t...state,\n\t\t\t\tlevelData: initializeLevel(state.levelData.level),\n\t\t\t\tisMenuVisible: false,\n\t\t\t\tisHintsOverlayVisible: true,\n\t\t\t};\n\t\t\treturn newState;\n\t\tcase RESTART_GAME:\n\t\t\tnewState = {\n\t\t\t\t...state,\n\t\t\t\tlevelData: initializeLevel(INITIAL_LEVEL),\n\t\t\t\tisMenuVisible: false,\n\t\t\t\tisHintsOverlayVisible: true,\n\t\t\t};\n\t\t\treturn newState;\n\t\tcase SET_NEXT_LEVEL:\n\t\t\tnewState = {\n\t\t\t\t...state,\n\t\t\t\tlevelData: initializeLevel(state.levelData.level + 1),\n\t\t\t\tisHintsOverlayVisible: true,\n\t\t\t};\n\t\t\tsetLastLevelPlayed(state.levelData.level + 1);\n\t\t\treturn newState;\n\t\tcase SET_LEVEL:\n\t\t\tnewState = {\n\t\t\t\t...state,\n\t\t\t\tlevelData: initializeLevel(action.payload),\n\t\t\t\tisMenuVisible: false,\n\t\t\t\tisHintsOverlayVisible: true,\n\t\t\t};\n\t\t\tsetLastLevelPlayed(action.payload);\n\t\t\treturn newState;\n\t\tcase TOGGLE_MENU_OVERLAY:\n\t\t\tnewState = {\n\t\t\t\t...state,\n\t\t\t\tlevelData: { ...state.levelData, isLevelFinished: false },\n\t\t\t\tstarScores: getStarScores(),\n\t\t\t\tisMenuVisible: !state.isMenuVisible,\n\t\t\t};\n\t\t\treturn newState;\n\t\tcase TOGGLE_HINTS:\n\t\t\tnewState = toogleHintsAvailable(state);\n\t\t\treturn newState;\n\t\tcase SHOW_HINTS_OVERLAY:\n\t\t\tnewState = {\n\t\t\t\t...state,\n\t\t\t\tisHintsOverlayVisible: true,\n\t\t\t};\n\t\t\treturn newState;\n\t\tcase HIDE_HINTS_OVERLAY:\n\t\t\tnewState = {\n\t\t\t\t...state,\n\t\t\t\tisHintsOverlayVisible: false,\n\t\t\t};\n\t\t\treturn newState;\n\t\tdefault:\n\t\t\treturn state;\n\t}\n};\n\nexport default rootReducer;\n","import React, { useState, useEffect } from \"react\";\nimport { Cell } from \"../misc/tsTypes\";\n\ninterface Props {\n\ttileClassName: string;\n\tcell: Cell;\n\tonMouseClick: (cell: Cell) => void;\n}\n\nconst Tile: React.FunctionComponent<Props> = ({\n\ttileClassName,\n\tcell,\n\tonMouseClick,\n}) => {\n\tconst [newTileClassName, setData] = useState<Props[\"tileClassName\"] | null>(null);\n\n\tuseEffect(() => {\n\t\trequestAnimationFrame(() => {\n\t\t\tsetData(tileClassName);\n\t\t});\n\t}, [tileClassName]);\n\n\treturn (\n\t\t<div className={newTileClassName} onClick={() => onMouseClick(cell)} />\n\t);\n};\n\nexport default Tile;\n","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport classNames from \"classnames\";\nimport { BOARD_WIDTH, BOARD_HEIGHT, TILE_TYPES } from \"../misc/constants\";\nimport Tile from \"./Tile\";\nimport { Cell, FinishCords } from \"../misc/tsTypes\";\n\ninterface Props {\n\tcells: Cell[];\n\tfinishCords: Array<FinishCords>;\n\tactiveType: number;\n\tonMouseClick: (cell: Cell) => void;\n}\n\nconst mapStateToProps = (state) => {\n\treturn {\n\t\tcells: state.levelData.cells,\n\t\tfinishCords: state.levelData.finishCords,\n\t\tactiveType: state.levelData.activeType,\n\t};\n};\n\nclass Block extends React.Component {\n\trender() {\n\t\treturn <div className=\"block\" />;\n\t}\n}\n\nclass Grid extends React.Component {\n\trender() {\n\t\tlet i,\n\t\t\tj,\n\t\t\tuniqueKey = \"\",\n\t\t\tblocks = [];\n\n\t\tfor (i = 0; i < BOARD_WIDTH; i++) {\n\t\t\tfor (j = 0; j < BOARD_HEIGHT; j++) {\n\t\t\t\tuniqueKey = i + \" \" + j;\n\t\t\t\tblocks.push(<Block key={uniqueKey} />);\n\t\t\t}\n\t\t}\n\n\t\treturn <div className=\"grid\">{blocks}</div>;\n\t}\n}\n\nconst Board: React.FunctionComponent<Props> = ({\n\tcells,\n\tfinishCords,\n\tactiveType,\n\tonMouseClick\n}) => {\n\tconst activeFinishCords = finishCords[activeType - 1], //get only finish cords of active type, not the whole array\n\t\tboardClassName = classNames(\"game\", TILE_TYPES[activeType]);\n\tlet tiles = [];\n\n\tcells.forEach((cell, i) => {\n\t\tconst typeClass = \"tile-type-\" + TILE_TYPES[cell.type],\n\t\t\tpositionClass = \"tile-position-\" + cell.positionX + \"-\" + cell.positionY,\n\t\t\tpositionClassFinish =\n\t\t\t\t\"tile-position-\" + activeFinishCords.positionX + \"-\" + activeFinishCords.positionY,\n\t\t\tactionClass = \"tile-action-\" + cell.actionClass,\n\t\t\tisTileActive = activeType === cell.type,\n\t\t\tisTileFinish = cell.isFinishTile,\n\t\t\ttileClassName = classNames(\n\t\t\t\t\"tile\",\n\t\t\t\ttypeClass,\n\t\t\t\t{ \"tile-type-finish\": isTileFinish },\n\t\t\t\tcell.toBeMergedWithFinish ? positionClassFinish : positionClass,\n\t\t\t\tactionClass,\n\t\t\t\t{ \"tile-active\": isTileActive }\n\t\t\t),\n\t\t\ttile = (\n\t\t\t\t<Tile\n\t\t\t\t\ttileClassName={tileClassName}\n\t\t\t\t\tcell={cell}\n\t\t\t\t\tonMouseClick={onMouseClick}\n\t\t\t\t\tkey={cell.uniqueKey.toString()}\n\t\t\t\t/>\n\t\t\t);\n\n\t\ttiles.push(tile);\n\t});\n\n\treturn (\n\t\t<div className={boardClassName}>\n\t\t\t<Grid />\n\t\t\t<div className=\"board\">{tiles}</div>\n\t\t</div>\n\t);\n};\n\nexport default connect(mapStateToProps)(Board);\n","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport classNames from \"classnames\";\nimport { TILE_TYPES } from \"../misc/constants\";\n\ninterface Props {\n\tscore: number;\n\tsingleScore: number;\n\tmaxScores: number;\n\tlevel: number;\n\tmoves: number;\n\tactiveType: number;\n\tscoreClass: string;\n}\n\nconst mapStateToProps = (state) => {\n\treturn {\n\t\tscore: state.levelData.score,\n\t\tsingleScore: state.levelData.singleScore,\n\t\tmaxScores: state.maxScores,\n\t\tlevel: state.levelData.level,\n\t\tmoves: state.levelData.moves,\n\t\tactiveType: state.levelData.activeType,\n\t\tscoreClass: state.levelData.scoreClass,\n\t};\n};\n\nconst Header: React.FunctionComponent<Props> = ({\n\tscore,\n\tsingleScore,\n\tmaxScores,\n\tlevel,\n\tmoves,\n\tactiveType,\n\tscoreClass,\n}) => {\n\tconst logoClass = classNames(\"logo\", \"logo-\" + TILE_TYPES[activeType]),\n\t\tsingleScoreClassName = classNames(\"header__single-score\", scoreClass),\n\t\tsingleScoreValue = \"+\" + singleScore,\n\t\tbestScore = maxScores[level],\n\t\tlevelToShow = level + 1;\n\n\treturn (\n\t\t<div className=\"header\">\n\t\t\t<h1 className={logoClass}>Swipers</h1>\n\t\t\t<div className=\"header__score-wrapper\">\n\t\t\t\t<div className=\"header__score-unit\">\n\t\t\t\t\t<p className=\"header__score-subheader header__score\">Level</p>\n\t\t\t\t\t<p className=\"header__score\">{levelToShow}</p>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"header__score-unit\">\n\t\t\t\t\t<p className=\"header__score-subheader header__score\">Moves</p>\n\t\t\t\t\t<p className=\"header__score\">{moves}</p>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"header__score-unit\">\n\t\t\t\t\t<p className=\"header__score-subheader header__score\">Score</p>\n\t\t\t\t\t<p className=\"header__score\">{score}</p>\n\t\t\t\t\t<span className={singleScoreClassName}>{singleScoreValue}</span>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"header__score-unit\">\n\t\t\t\t\t<p className=\"header__score-subheader header__score\">Best</p>\n\t\t\t\t\t<p className=\"header__score\">{bestScore}</p>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport default connect(mapStateToProps)(Header);\n","import React from \"react\";\n\ninterface Props {\n\tscore: number;\n    level: number;\n    customCssClass?: string | null;\n}\n\nconst StarsPoints: React.FunctionComponent<Props> = ({\n\tscore,\n    level,\n    customCssClass,\n}) => {\n\tlet i = 0,\n\t\ttotalStarsAmount = 3,\n\t\tuniqueKey = \"\",\n\t\tstars = [];\n\n\tfor (i = 1; i <= totalStarsAmount; i++) {\n\t\tuniqueKey = `star_${level}_${i}`;\n\t\tif (i <= score) {\n\t\t\tstars.push(<i className=\"fas fa-star\" key={uniqueKey}></i>);\n\t\t} else {\n\t\t\tstars.push(<i className=\"far fa-star\" key={uniqueKey}></i>);\n\t\t}\n\t}\n\n\treturn (\n\t\t<div className={customCssClass}>\n            {stars}\n\t\t</div>\n\t);\n};\n\nexport default StarsPoints;\n","import React from \"react\";\n\ninterface Props {\n\toverlayClass: string;\n    overlayWrapperClass: string;\n    title: JSX.Element[] | JSX.Element | string;\n    text: JSX.Element[] | JSX.Element | string;\n    buttons: JSX.Element[] | JSX.Element | string;\n}\n\nconst Overlay: React.FunctionComponent<Props> = ({\n\toverlayClass,\n    overlayWrapperClass,\n\ttitle,\n    text,\n    buttons\n}) => {\n\treturn (\n\t\t<div>\n\t\t\t<div className={overlayWrapperClass}></div>\n\t\t\t<div className={overlayClass}>\n                <p className=\"overlay__title\">{title}</p>\n\t\t\t\t<div className=\"overlay__text\">\n\t\t\t\t\t{text}\n\t\t\t\t</div>\n\t\t\t\t<div>\n\t\t\t\t\t{buttons}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport default Overlay;\n","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport classNames from \"classnames\";\nimport StarsPoints from \"./StarsPoints\";\nimport Overlay from \"./Overlay\";\n\ninterface Props {\n\tisLevelFinished: boolean;\n\tisGameFinished: boolean;\n\tstarScores: Array<number>;\n\tlevel: number;\n\tmoves: number;\n\tscore: number;\n\tisNewBestScore: boolean;\n\tonLevelRestart: () => void;\n\tonShowMenu: () => void;\n\tonNextLevel: () => void;\n}\n\nconst mapStateToProps = (state) => {\n\treturn {\n\t\tisLevelFinished: state.levelData.isLevelFinished,\n\t\tisGameFinished: state.levelData.isGameFinished,\n\t\tstarScores: state.starScores,\n\t\tlevel: state.levelData.level,\n\t\tmoves: state.levelData.moves,\n\t\tscore: state.levelData.score,\n\t\tisNewBestScore: state.levelData.isNewBestScore,\n\t};\n};\n\nconst InfoOverlay: React.FunctionComponent<Props> = ({\n\tisLevelFinished,\n\tisGameFinished,\n\tstarScores,\n\tlevel,\n\tmoves,\n\tscore,\n\tisNewBestScore,\n\tonLevelRestart,\n\tonShowMenu,\n\tonNextLevel,\n}) => {\n\tconst infoOverlayClass = classNames(\"overlay\", {\n\t\t\tvisible: isLevelFinished,\n\t\t}),\n\t\tinfoOverlayWrapperClass = classNames(\"overlay-wrapper\", {\n\t\t\tvisible: isLevelFinished,\n\t\t}),\n\t\tscoreClass = classNames(\"overlay__score-title\", {\n\t\t\tbest: isNewBestScore,\n\t\t}),\n\t\tstarScore = starScores[level];\n\n\treturn (\n\t\t<Overlay\n\t\t\toverlayClass={infoOverlayClass}\n\t\t\toverlayWrapperClass={infoOverlayWrapperClass}\n\t\t\ttitle=\"Congratulations!\"\n\t\t\ttext={\n\t\t\t\t<div>\n\t\t\t\t\t<p className=\"overlay__info\">Level {level + 1} completed!</p>\n\t\t\t\t\t<div className=\"overlay__score-info\">\n\t\t\t\t\t\t<div className={scoreClass}>Score:</div>\n\t\t\t\t\t\t<div className=\"overlay__score-value\">{score}</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"overlay__score-info\">\n\t\t\t\t\t\t<div className=\"overlay__score-title\">Moves:</div>\n\t\t\t\t\t\t<div className=\"overlay__score-value\">{moves}</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"overlay__line\"></div>\n\t\t\t\t\t<StarsPoints\n\t\t\t\t\t\tlevel={level}\n\t\t\t\t\t\tscore={starScore}\n\t\t\t\t\t\tcustomCssClass={\"stars-points\"}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t}\n\t\t\tbuttons={\n\t\t\t\t<div className=\"overlay__buttons-wrapper\">\n\t\t\t\t\t<button className=\"button\" onClick={onLevelRestart}>\n\t\t\t\t\t\t<i className=\"fas fa-undo\"></i> Restart\n\t\t\t\t\t</button>\n\t\t\t\t\t{isGameFinished ? (\n\t\t\t\t\t\t<button className=\"button\" onClick={onShowMenu}>\n\t\t\t\t\t\t\tBack to menu\n\t\t\t\t\t\t</button>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<button className=\"button\" onClick={onNextLevel}>\n\t\t\t\t\t\t\tNext <i className=\"fas fa-arrow-right\"></i>\n\t\t\t\t\t\t</button>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t}\n\t\t/>\n\t);\n};\n\nexport default connect(mapStateToProps)(InfoOverlay);\n","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport classNames from \"classnames\";\nimport Overlay from \"./Overlay\";\n\ninterface Props {\n\thint: string;\n\tisHintsVisible: boolean;\n\tisHintsOverlayVisible: boolean;\n\tisMenuVisible: boolean;\n\tonClose: () => void;\n}\n\nconst mapStateToProps = (state) => {\n\treturn {\n\t\thint: state.levelData.hint,\n\t\tisHintsVisible: state.isHintsVisible,\n\t\tisHintsOverlayVisible: state.isHintsOverlayVisible,\n\t\tisMenuVisible: state.isMenuVisible,\n\t};\n};\n\nconst HintsOverlay: React.FunctionComponent<Props> = ({\n\thint,\n\tisHintsVisible,\n\tisHintsOverlayVisible,\n\tisMenuVisible,\n\tonClose,\n}) => {\n\tconst hintsOverlayClass = classNames(\"overlay\", {\n\t\t\tvisible:\n\t\t\t\thint && isHintsOverlayVisible && isHintsVisible && !isMenuVisible\n\t\t\t\t\t? true\n\t\t\t\t\t: false,\n\t\t}),\n\t\thintsOverlayWrapperClass = classNames(\"overlay-wrapper\", {\n\t\t\tvisible:\n\t\t\t\thint && isHintsOverlayVisible && isHintsVisible && !isMenuVisible\n\t\t\t\t\t? true\n\t\t\t\t\t: false,\n\t\t});\n\n\treturn (\n\t\t<Overlay\n\t\t\toverlayClass={hintsOverlayClass}\n\t\t\toverlayWrapperClass={hintsOverlayWrapperClass}\n\t\t\ttitle=\"Tutorial hint\"\n\t\t\ttext={hint}\n\t\t\tbuttons={\n\t\t\t\t<button className=\"overlay__single-btn button\" onClick={onClose}>\n\t\t\t\t\tOK!\n\t\t\t\t</button>\n\t\t\t}\n\t\t/>\n\t);\n};\n\nexport default connect(mapStateToProps)(HintsOverlay);\n","import React from \"react\";\n\ninterface Props {\n\tonLevelRestart: () => void;\n\tonShowMenu: () => void;\n}\n\nconst MenuBar: React.FunctionComponent<Props> = ({\n\tonLevelRestart,\n\tonShowMenu,\n}) => {\n\treturn (\n\t\t<div className=\"menu-bar\">\n            <button className=\"button-link menu\" onClick={onShowMenu}>\n                <i className=\"fas fa-bars\"></i> Menu\n            </button>\n            <button className=\"button-link restart\" onClick={onLevelRestart}>\n                <i className=\"fas fa-undo\"></i> Reset\n            </button>\n\t\t</div>\n\t);\n};\n\nexport default MenuBar;\n","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport StarsPoints from \"./StarsPoints\";\n\ninterface Props {\n    starScores: Array<number>;\n\tonSetLevel: (levelNo: number) => void;\n}\n\ninterface LevelProps {\n    level: number;\n    score: number;\n\tonSetLevel: (levelNo: number) => void;\n}\n\nconst Level: React.FunctionComponent<LevelProps> = ({\n    level,\n    score,\n    onSetLevel\n}) => {\n    return (\n        <button className=\"levels__single-level\" onClick={() => onSetLevel(level - 1)}>\n            <p className=\"levels__level-no\">{level}</p>\n            <StarsPoints level={level} score={score}/>\n        </button>\n    );\n};\n\nconst mapStateToProps = (state) => {\n\treturn {\n        starScores: state.starScores\n    };\n};\n\nconst LevelsDisplay: React.FunctionComponent<Props> = ({\n    starScores,\n\tonSetLevel\n}) => {\n    let i: number,\n        uniqueKey = \"\",\n        levels = [];\n\n    for (i = 0; i < 9; i++) {\n        uniqueKey = `level_${i}`;\n        levels.push(\n            <Level level={i + 1} key={uniqueKey} score={starScores[i]} onSetLevel={onSetLevel}/>\n        );\n    }\n    \n\treturn (\n        <div className=\"levels\">\n            <p className=\"levels__header\">Levels</p>\n            {levels}\n        </div>\n\t);\n};\n\nexport default connect(mapStateToProps)(LevelsDisplay);\n","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport classNames from \"classnames\";\nimport LevelsDisplay from \"./LevelsDisplay\";\n\ninterface Props {\n\tisMenuVisible: boolean;\n\tlevel: number;\n\tmoves: number;\n\tisHintsVisible: boolean;\n\tonCloseMenu: () => void;\n\tonLevelRestart: () => void;\n\tonGameRestart: () => void;\n\tonSetLevel: (levelNo: number) => void;\n\tonToggleHints: () => void;\n}\n\nconst mapStateToProps = (state) => {\n\treturn {\n\t\tisMenuVisible: state.isMenuVisible,\n\t\tlevel: state.levelData.level,\n\t\tmoves: state.levelData.moves,\n\t\tisHintsVisible: state.isHintsVisible,\n\t};\n};\n\nconst MenuOverlay: React.FunctionComponent<Props> = ({\n\tisMenuVisible,\n\tlevel,\n\tmoves,\n\tisHintsVisible,\n\tonCloseMenu,\n\tonLevelRestart,\n\tonGameRestart,\n\tonSetLevel,\n\tonToggleHints,\n}) => {\n\tconst menuOverlayClass = classNames(\"menu-overlay-wrapper\", {\n\t\tvisible: isMenuVisible,\n\t});\n\n\treturn (\n\t\t<div className={menuOverlayClass}>\n\t\t\t<div className=\"menu-overlay\">\n\t\t\t\t<h1 className=\"menu-overlay__logo logo\">Swipers</h1>\n\t\t\t\t<div className=\"menu-overlay__content-wrapper\">\n\t\t\t\t\t{level > 0 || moves > 0 ? (\n\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tclassName=\"menu-overlay__button button\"\n\t\t\t\t\t\t\t\tonClick={onCloseMenu}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<i className=\"fas fa-long-arrow-alt-left\"></i> Back to game\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tclassName=\"menu-overlay__button button\"\n\t\t\t\t\t\t\t\tonClick={onLevelRestart}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<i className=\"fas fa-undo\"></i> Restart level\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</p>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tclassName=\"menu-overlay__button button\"\n\t\t\t\t\t\t\tonClick={onGameRestart}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tNew game\n\t\t\t\t\t\t</button>\n\t\t\t\t\t)}\n\t\t\t\t\t{level > 0 || moves > 0 ? (\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tclassName=\"menu-overlay__button button\"\n\t\t\t\t\t\t\t\tonClick={onGameRestart}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tNew game\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t{isHintsVisible ? (\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\tclassName=\"menu-overlay__button menu-overlay__hints button\"\n\t\t\t\t\t\t\t\t\tonClick={onToggleHints}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<span>Turn off tutorial</span>\n\t\t\t\t\t\t\t\t\t<i className=\"fas fa-toggle-on\"></i>\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\tclassName=\"menu-overlay__button menu-overlay__hints button\"\n\t\t\t\t\t\t\t\t\tonClick={onToggleHints}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<span>Turn on tutorial</span>\n\t\t\t\t\t\t\t\t\t<i className=\"fas fa-toggle-off\"></i>\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t) : null}\n\t\t\t\t\t<LevelsDisplay onSetLevel={onSetLevel} />\n\t\t\t\t</div>\n\t\t\t\t<p className=\"menu-overlay__credits\">\n\t\t\t\t\t© 2020{\" \"}\n\t\t\t\t\t<a\n\t\t\t\t\t\thref=\"http://zofiakorcz.pl\"\n\t\t\t\t\t\tclassName=\"menu-overlay__credits-link\"\n\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\trel=\"noopener noreferrer\"\n\t\t\t\t\t>\n\t\t\t\t\t\tZofia Korcz\n\t\t\t\t\t</a>\n\t\t\t\t</p>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport default connect(mapStateToProps)(MenuOverlay);\n","import * as React from \"react\";\nimport { connect } from \"react-redux\";\nimport Swipe from \"react-easy-swipe\";\nimport Board from \"./Board\";\nimport Header from \"./Header\";\nimport InfoOverlay from \"./InfoOverlay\";\nimport HintsOverlay from \"./HintsOverlay\";\nimport MenuBar from \"./MenuBar\";\nimport {\n\tupdateCells,\n\tsetActiveType,\n\trestartCssClasses,\n\trestartLevel,\n\trestartGame,\n\tsetNextLevel,\n\tsetLevel,\n\ttoggleMenuOverlay,\n\ttoggleHints,\n\thideHintsOverlay,\n} from \"../actions/index\";\nimport { Cell } from \"../misc/tsTypes\";\nimport MenuOverlay from \"./MenuOverlay\";\n\ninterface GameProps {\n\tupdateCells: typeof updateCells;\n\tsetActiveType: typeof setActiveType;\n\trestartCssClasses: typeof restartCssClasses;\n\trestartLevel: typeof restartLevel;\n\trestartGame: typeof restartGame;\n\tsetNextLevel: typeof setNextLevel;\n\tsetLevel: typeof setLevel;\n\ttoggleMenuOverlay: typeof toggleMenuOverlay;\n\ttoggleHints: typeof toggleHints;\n\thideHintsOverlay: typeof hideHintsOverlay;\n}\n\nconst mapDispatchToProps = (dispatch) => {\n\treturn {\n\t\tupdateCells: (keyPressedNo: number) => dispatch(updateCells(keyPressedNo)),\n\t\tsetActiveType: (cell: Cell) => dispatch(setActiveType(cell)),\n\t\trestartCssClasses: () => dispatch(restartCssClasses()),\n\t\trestartLevel: () => dispatch(restartLevel()),\n\t\trestartGame: () => dispatch(restartGame()),\n\t\tsetNextLevel: () => dispatch(setNextLevel()),\n\t\tsetLevel: (levelNo: number) => dispatch(setLevel(levelNo)),\n\t\ttoggleMenuOverlay: () => dispatch(toggleMenuOverlay()),\n\t\ttoggleHints: () => dispatch(toggleHints()),\n\t\thideHintsOverlay: () => dispatch(hideHintsOverlay()),\n\t};\n};\n\nconst IDLE_TIMER = 200;\nlet isKeyPressed = false;\n\nclass Game extends React.Component<GameProps> {\n\tcomponentDidMount() {\n\t\tdocument.addEventListener(\"keydown\", (event) => {\n\t\t\tthis.handleMove(event.key);\n\t\t});\n\t}\n\n\thandleMove = (eventKey: string): void => {\n\t\tif (!isKeyPressed) {\n\t\t\tthis.handleCellsUpdate(eventKey);\n\t\t\tisKeyPressed = true;\n\t\t\twindow.setTimeout(() => {\n\t\t\t\tisKeyPressed = false;\n\t\t\t}, IDLE_TIMER); //to prevent moving tiles diagonally\n\t\t}\n\t};\n\n\thandleCellsUpdate = (eventKey: string): void => {\n\t\tconst KeyPressMap = {\n\t\t\tArrowUp: 1,\n\t\t\tArrowRight: 2,\n\t\t\tArrowDown: 3,\n\t\t\tArrowLeft: 4,\n\t\t\tw: 1, // W\n\t\t\td: 2, // D\n\t\t\ts: 3, // S\n\t\t\ta: 4, // A\n\t\t\tSwipeUp: 1,\n\t\t\tSwipeRight: 2,\n\t\t\tSwipeDown: 3,\n\t\t\tSwipeLeft: 4,\n\t\t};\n\n\t\tif (KeyPressMap[eventKey]) {\n\t\t\tthis.props.updateCells(KeyPressMap[eventKey]);\n\t\t}\n\t};\n\n\thandleMouseClick = (cell: Cell): void => {\n\t\tthis.props.setActiveType(cell);\n\t};\n\n\thandleRestartLevel = (): void => {\n\t\tthis.props.restartLevel();\n\t};\n\n\thandleRestartGame = (): void => {\n\t\tthis.props.restartGame();\n\t};\n\n\thandleToggleMenu = (): void => {\n\t\tthis.props.toggleMenuOverlay();\n\t};\n\n\thandleSetNextLevel = (): void => {\n\t\tthis.props.setNextLevel();\n\t};\n\n\thandleSetLevel = (levelNo: number): void => {\n\t\tthis.props.setLevel(levelNo);\n\t};\n\n\thandleHideHintsOverlay = (): void => {\n\t\tthis.props.hideHintsOverlay();\n\t};\n\n\thandleToggleHints = (): void => {\n\t\tthis.props.toggleHints();\n\t};\n\n\tonSwipeUp = (): void => {\n\t\tthis.handleMove(\"SwipeUp\");\n\t};\n\n\tonSwipeDown = (): void => {\n\t\tthis.handleMove(\"SwipeDown\");\n\t};\n\n\tonSwipeLeft = (): void => {\n\t\tthis.handleMove(\"SwipeLeft\");\n\t};\n\n\tonSwipeRight = (): void => {\n\t\tthis.handleMove(\"SwipeRight\");\n\t};\n\n\tonSwipeMove = (position, event): boolean => {\n\t\treturn true; //to prevent accidental scrolling on swipe\n\t};\n\n\trender() {\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<Swipe\n\t\t\t\t\tinnerRef={() => {}}\n\t\t\t\t\ttolerance={40}\n\t\t\t\t\tonSwipeMove={this.onSwipeMove}\n\t\t\t\t\tonSwipeUp={this.onSwipeUp.bind(this)}\n\t\t\t\t\tonSwipeDown={this.onSwipeDown.bind(this)}\n\t\t\t\t\tonSwipeLeft={this.onSwipeLeft.bind(this)}\n\t\t\t\t\tonSwipeRight={this.onSwipeRight.bind(this)}\n\t\t\t\t>\n\t\t\t\t\t<div className=\"swipeable\">\n\t\t\t\t\t\t<div className=\"app\">\n\t\t\t\t\t\t\t<MenuOverlay\n\t\t\t\t\t\t\t\tonCloseMenu={this.handleToggleMenu}\n\t\t\t\t\t\t\t\tonLevelRestart={this.handleRestartLevel}\n\t\t\t\t\t\t\t\tonGameRestart={this.handleRestartGame}\n\t\t\t\t\t\t\t\tonSetLevel={this.handleSetLevel}\n\t\t\t\t\t\t\t\tonToggleHints={this.handleToggleHints}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<Header />\n\t\t\t\t\t\t\t<Board onMouseClick={this.handleMouseClick} />\n\t\t\t\t\t\t\t<MenuBar\n\t\t\t\t\t\t\t\tonShowMenu={this.handleToggleMenu}\n\t\t\t\t\t\t\t\tonLevelRestart={this.handleRestartLevel}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<InfoOverlay\n\t\t\t\t\t\t\t\tonLevelRestart={this.handleRestartLevel}\n\t\t\t\t\t\t\t\tonShowMenu={this.handleToggleMenu}\n\t\t\t\t\t\t\t\tonNextLevel={this.handleSetNextLevel}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<HintsOverlay onClose={this.handleHideHintsOverlay} />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</Swipe>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default connect(null, mapDispatchToProps)(Game);\n","import {\n\tUPDATE_CELLS,\n\tSET_ACTIVE_TYPE,\n\tRESTART_CSS_CLASSES,\n\tRESTART_LEVEL,\n\tRESTART_GAME,\n\tSET_NEXT_LEVEL,\n\tSET_LEVEL,\n\tTOGGLE_MENU_OVERLAY,\n\tTOGGLE_HINTS,\n\tSHOW_HINTS_OVERLAY,\n\tHIDE_HINTS_OVERLAY\n} from \"./actionTypes\";\nimport {\n\tCell,\n\tUpdateCellsAction,\n\tSetActiveTypeAction,\n\tRestartCssClasses,\n\tRestartLevelAction,\n\tRestartGameAction,\n\tSetNextLevelAction,\n\tSetLevelAction,\n\ttoggleMenuOverlayAction,\n\ttoggleHintsAction,\n\tshowHintsOverlayAction,\n\thideHintsOverlayAction\n} from \"../misc/tsTypes\";\n\nexport function updateCells(keyPressedNo: number): UpdateCellsAction {\n\treturn {\n\t\ttype: UPDATE_CELLS,\n\t\tpayload: keyPressedNo,\n\t};\n}\n\nexport function setActiveType(clickedTile: Cell): SetActiveTypeAction {\n\treturn {\n\t\ttype: SET_ACTIVE_TYPE,\n\t\tpayload: clickedTile,\n\t};\n}\n\nexport function restartCssClasses(): RestartCssClasses {\n\treturn {\n\t\ttype: RESTART_CSS_CLASSES,\n\t};\n}\n\nexport function restartLevel(): RestartLevelAction {\n\treturn {\n\t\ttype: RESTART_LEVEL,\n\t};\n}\n\nexport function restartGame(): RestartGameAction {\n\treturn {\n\t\ttype: RESTART_GAME,\n\t};\n}\n\nexport function setNextLevel(): SetNextLevelAction {\n\treturn {\n\t\ttype: SET_NEXT_LEVEL,\n\t};\n}\n\nexport function setLevel(levelNo: number): SetLevelAction {\n\treturn {\n\t\ttype: SET_LEVEL,\n\t\tpayload: levelNo\n\t};\n}\n\nexport function toggleMenuOverlay(): toggleMenuOverlayAction {\n\treturn {\n\t\ttype: TOGGLE_MENU_OVERLAY\n\t};\n}\n\nexport function toggleHints(): toggleHintsAction {\n\treturn {\n\t\ttype: TOGGLE_HINTS\n\t};\n}\n\nexport function showHintsOverlay(): showHintsOverlayAction {\n\treturn {\n\t\ttype: SHOW_HINTS_OVERLAY\n\t};\n}\n\nexport function hideHintsOverlay(): hideHintsOverlayAction {\n\treturn {\n\t\ttype: HIDE_HINTS_OVERLAY\n\t};\n}\n\n","import React from \"react\";\nimport { createStore } from \"redux\";\nimport { Provider } from \"react-redux\";\n\nimport reducers from \"./js/reducers\";\nimport Game from \"./js/components/Game\";\n\nconst store = createStore(reducers);\n\nfunction App() {\n\treturn (\n\t\t<div>\n\t\t\t<Provider store={store}>\n\t\t\t\t<Game />\n\t\t\t</Provider>\n\t\t</div>\n\t);\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n\twindow.location.hostname === \"localhost\" ||\n\t\t// [::1] is the IPv6 localhost address.\n\t\twindow.location.hostname === \"[::1]\" ||\n\t\t// 127.0.0.0/8 are considered localhost for IPv4.\n\t\twindow.location.hostname.match(\n\t\t\t/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n\t\t)\n);\n\nexport function register(config) {\n\tif (process.env.NODE_ENV === \"production\" && \"serviceWorker\" in navigator) {\n\t\t// The URL constructor is available in all browsers that support SW.\n\t\tconst publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n\t\tif (publicUrl.origin !== window.location.origin) {\n\t\t\t// Our service worker won't work if PUBLIC_URL is on a different origin\n\t\t\t// from what our page is served on. This might happen if a CDN is used to\n\t\t\t// serve assets; see https://github.com/facebook/create-react-app/issues/2374\n\t\t\treturn;\n\t\t}\n\n\t\twindow.addEventListener(\"load\", () => {\n\t\t\tconst swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n\t\t\tif (isLocalhost) {\n\t\t\t\t// This is running on localhost. Let's check if a service worker still exists or not.\n\t\t\t\tcheckValidServiceWorker(swUrl, config);\n\n\t\t\t\t// Add some additional logging to localhost, pointing developers to the\n\t\t\t\t// service worker/PWA documentation.\n\t\t\t\tnavigator.serviceWorker.ready.then(() => {\n\t\t\t\t\tconsole.log(\n\t\t\t\t\t\t\"This web app is being served cache-first by a service \" +\n\t\t\t\t\t\t\t\"worker. To learn more, visit https://bit.ly/CRA-PWA\"\n\t\t\t\t\t);\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\t// Is not localhost. Just register service worker\n\t\t\t\tregisterValidSW(swUrl, config);\n\t\t\t}\n\t\t});\n\t}\n}\n\nfunction registerValidSW(swUrl, config) {\n\tnavigator.serviceWorker\n\t\t.register(swUrl)\n\t\t.then((registration) => {\n\t\t\tregistration.onupdatefound = () => {\n\t\t\t\tconst installingWorker = registration.installing;\n\t\t\t\tif (installingWorker == null) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tinstallingWorker.onstatechange = () => {\n\t\t\t\t\tif (installingWorker.state === \"installed\") {\n\t\t\t\t\t\tif (navigator.serviceWorker.controller) {\n\t\t\t\t\t\t\t// At this point, the updated precached content has been fetched,\n\t\t\t\t\t\t\t// but the previous service worker will still serve the older\n\t\t\t\t\t\t\t// content until all client tabs are closed.\n\t\t\t\t\t\t\tconsole.log(\n\t\t\t\t\t\t\t\t\"New content is available and will be used when all \" +\n\t\t\t\t\t\t\t\t\t\"tabs for this page are closed. See https://bit.ly/CRA-PWA.\"\n\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\t// Execute callback\n\t\t\t\t\t\t\tif (config && config.onUpdate) {\n\t\t\t\t\t\t\t\tconfig.onUpdate(registration);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t// At this point, everything has been precached.\n\t\t\t\t\t\t\t// It's the perfect time to display a\n\t\t\t\t\t\t\t// \"Content is cached for offline use.\" message.\n\t\t\t\t\t\t\tconsole.log(\"Content is cached for offline use.\");\n\n\t\t\t\t\t\t\t// Execute callback\n\t\t\t\t\t\t\tif (config && config.onSuccess) {\n\t\t\t\t\t\t\t\tconfig.onSuccess(registration);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t};\n\t\t})\n\t\t.catch((error) => {\n\t\t\tconsole.error(\"Error during service worker registration:\", error);\n\t\t});\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n\t// Check if the service worker can be found. If it can't reload the page.\n\tfetch(swUrl, {\n\t\theaders: { \"Service-Worker\": \"script\" },\n\t})\n\t\t.then((response) => {\n\t\t\t// Ensure service worker exists, and that we really are getting a JS file.\n\t\t\tconst contentType = response.headers.get(\"content-type\");\n\t\t\tif (\n\t\t\t\tresponse.status === 404 ||\n\t\t\t\t(contentType != null && contentType.indexOf(\"javascript\") === -1)\n\t\t\t) {\n\t\t\t\t// No service worker found. Probably a different app. Reload the page.\n\t\t\t\tnavigator.serviceWorker.ready.then((registration) => {\n\t\t\t\t\tregistration.unregister().then(() => {\n\t\t\t\t\t\twindow.location.reload();\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\t// Service worker found. Proceed as normal.\n\t\t\t\tregisterValidSW(swUrl, config);\n\t\t\t}\n\t\t})\n\t\t.catch(() => {\n\t\t\tconsole.log(\n\t\t\t\t\"No internet connection found. App is running in offline mode.\"\n\t\t\t);\n\t\t});\n}\n\nexport function unregister() {\n\tif (\"serviceWorker\" in navigator) {\n\t\tnavigator.serviceWorker.ready.then((registration) => {\n\t\t\tregistration.unregister();\n\t\t});\n\t}\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.scss\";\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.register();\n"],"sourceRoot":""}